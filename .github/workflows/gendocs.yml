name: Generate API Docs

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
    

jobs:
  generate_docs:
    runs-on: ubuntu-20.04
    steps:
    - uses: actions/checkout@v2
    - name: Run gendocs script
      run: |
         sudo apt install python3-pip
         pip install --upgrade pip
         pip install pdoc
         pip install -r base_requirements.txt -r extensions_requirements.txt
         chmod +x ./gendocs.bat
         ./gendocs.bat
      shell: bash
